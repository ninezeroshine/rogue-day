# Rogue-Day ğŸ¯

> Roguelike ToDo App Ğ´Ğ»Ñ Ğ»ÑĞ´ĞµĞ¹ Ñ Ğ¡Ğ”Ğ’Ğ“ â€” ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ "Ñ€Ğ°Ğ½"

## ğŸ® ĞšĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ğ¸Ñ

Ğ“ĞµĞ¹Ğ¼Ğ¸Ñ„Ğ¸Ñ†Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ñ‰Ğ¸Ğº, Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑÑ‰Ğ¸Ğ¹ Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸ĞºĞ¸ Roguelike Ğ¸ Extraction Ğ´Ğ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ ÑƒÑÑ‚Ğ¾Ğ¹Ñ‡Ğ¸Ğ²Ğ¾Ğ¹ Ğ¼Ğ¾Ñ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ğ¸:

- **Tabula Rasa** â€” ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ Ğ½Ğ°Ñ‡Ğ¸Ğ½Ğ°ĞµÑ‚ÑÑ Ñ Ñ‡Ğ¸ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ»Ğ¸ÑÑ‚Ğ°
- **Tiers** â€” Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ Ñ€Ğ°Ğ·Ğ½Ğ¾Ğ¹ ÑĞ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸ (T1 Ñ€Ğ°Ğ·Ğ¼Ğ¸Ğ½ĞºĞ° â†’ T3 Ñ„Ğ¾ĞºÑƒÑ)
- **Ğ­ĞºÑÑ‚Ñ€Ğ°ĞºÑ†Ğ¸Ñ** â€” ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑĞ° Ğ² ĞºĞ¾Ğ½Ñ†Ğµ Ğ´Ğ½Ñ
- **XP + Ğ­Ğ½ĞµÑ€Ğ³Ğ¸Ñ** â€” Ğ¸Ğ³Ñ€Ğ¾Ğ²Ğ°Ñ ÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ°
- **Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½Ñ‹ & ĞŸÑ€ĞµÑĞµÑ‚Ñ‹** â€” ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑĞ¹ Ğ»ÑĞ±Ğ¸Ğ¼Ñ‹Ğµ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ Ğ´Ğ»Ñ Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾Ğ³Ğ¾ ÑÑ‚Ğ°Ñ€Ñ‚Ğ°

## ğŸ”— Ğ¡ÑÑ‹Ğ»ĞºĞ¸

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | URL |
|-----------|-----|
| ğŸ“± Mini App | https://rogue-day.vercel.app |
| ğŸ¤– Telegram Bot | https://t.me/RogueDay_bot |
| ğŸ–¥ï¸ API | https://rogue-day-production.up.railway.app |
| ğŸ“š API Docs | https://rogue-day-production.up.railway.app/docs |
| ğŸ’» GitHub | https://github.com/ninezeroshine/rogue-day |

## ğŸ› ï¸ Ğ¡Ñ‚ĞµĞº

### Frontend (Telegram Mini App)
| Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ | Ğ’ĞµÑ€ÑĞ¸Ñ | ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ |
|------------|--------|------------|
| **React** | 19.x | UI Library |
| **Vite** | 7.x | Build tool, HMR |
| **TypeScript** | 5.9 | Ğ¡Ñ‚Ñ€Ğ¾Ğ³Ğ°Ñ Ñ‚Ğ¸Ğ¿Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ |
| **Zustand** | 5.x | Server-synced state |
| **Framer Motion** | 12.x | ĞĞ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ğ¸ |
| **Tailwind CSS** | 4.x | Utility-first CSS |
| **Lucide React** | 0.513 | Ğ˜ĞºĞ¾Ğ½ĞºĞ¸ |
| **@twa-dev/sdk** | 8.x | Telegram Mini App SDK |

### Backend
| Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ | Ğ’ĞµÑ€ÑĞ¸Ñ | ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ |
|------------|--------|------------|
| **FastAPI** | 0.109+ | Async Python API |
| **PostgreSQL** | 15+ | Primary DB (Railway) |
| **SQLAlchemy** | 2.x | Async ORM (asyncpg) |
| **Pydantic** | 2.x | Validation, schemas |

## ğŸ” Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ

- âœ… Telegram `initData` Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ñ‡ĞµÑ€ĞµĞ· HMAC-SHA256
- âœ… ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° `auth_date` (24h expiration)
- âœ… Dependency Injection Ñ‡ĞµÑ€ĞµĞ· `get_current_user`
- âœ… Ğ¡Ğ¾ÑÑ‚Ğ°Ğ²Ğ½Ñ‹Ğµ Ğ¸Ğ½Ğ´ĞµĞºÑÑ‹ Ğ‘Ğ” Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸

## ğŸ“‚ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
rogue-day/
â”œâ”€â”€ app/                    # Frontend (TMA)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ layout/     # AppLayout, BottomTabBar
â”‚   â”‚   â”‚   â”œâ”€â”€ run/        # TaskSlot, Modals, EnergyMeter, XPCounter
â”‚   â”‚   â”‚   â””â”€â”€ journal/    # JournalDayCard, JournalEntryModal
â”‚   â”‚   â”œâ”€â”€ pages/          # RunPage, JournalPage, ProfilePage, TemplatesPage
â”‚   â”‚   â”œâ”€â”€ store/          # Zustand server-synced store
â”‚   â”‚   â”œâ”€â”€ hooks/          # useTelegram, useTimer, useSync
â”‚   â”‚   â””â”€â”€ lib/
â”‚   â”‚       â”œâ”€â”€ api.ts      # API client + auto-generated types
â”‚   â”‚       â”œâ”€â”€ constants.ts # Game config (frontend mirror)
â”‚   â”‚       â””â”€â”€ icons.tsx   # Centralized Lucide icons
â”‚   â””â”€â”€ vercel.json         # SPA routing config
â”‚
â”œâ”€â”€ backend/                # Backend (FastAPI)
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ endpoints/  # REST API routes
â”‚   â”‚   â”‚   â””â”€â”€ dependencies.py  # Auth dependency
â”‚   â”‚   â”œâ”€â”€ core/           # Game config (TIER_CONFIG)
â”‚   â”‚   â”œâ”€â”€ models.py       # SQLAlchemy models
â”‚   â”‚   â””â”€â”€ main.py         # FastAPI app
â”‚   â””â”€â”€ railway.toml        # Railway config (auto-migrations)
â”‚
â”œâ”€â”€ start-dev.bat           # Windows dev launcher
â”œâ”€â”€ LOCAL_DEV.md            # Local development guide
â””â”€â”€ README.md
```

## ğŸš€ Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ°Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°

### Quick Start (Windows)
```bash
# Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ¾Ğ±Ğ° ÑĞµÑ€Ğ²ĞµÑ€Ğ° Ğ¾Ğ´Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¾Ğ¹
start-dev.bat
```

### Manual Setup

#### Frontend
```bash
cd app
npm install
npm run dev
# ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ: http://127.0.0.1:5173

# Ğ¡Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ‚Ğ¸Ğ¿Ñ‹ Ğ¸Ğ· OpenAPI:
npm run generate:api
```

#### Backend
```bash
cd backend
python -m venv venv
.\venv\Scripts\activate  # Windows
pip install -e .
cp .env.example .env

# Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² .env Ğ´Ğ»Ñ dev-Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ°:
ALLOW_DEV_MODE=true

uvicorn app.main:app --reload
# ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ: http://127.0.0.1:8000
```

## ğŸ“Š Ğ˜Ğ³Ñ€Ğ¾Ğ²Ñ‹Ğµ Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸ĞºĞ¸

| Tier | ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ | Ğ”Ğ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ | Ğ­Ğ½ĞµÑ€Ğ³Ğ¸Ñ | Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ XP | ĞŸÑ€Ğ¾Ğ²Ğ°Ğ» |
|------|----------|--------------|---------|------------|--------|
| T1 | Ğ Ğ°Ğ·Ğ¼Ğ¸Ğ½ĞºĞ° | 2-5 Ğ¼Ğ¸Ğ½ | 0 | 15 | ĞĞµĞ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶ĞµĞ½ |
| T2 | Ğ ÑƒÑ‚Ğ¸Ğ½Ğ° | 10-15 Ğ¼Ğ¸Ğ½ | 5 | 65 | -ÑĞ½ĞµÑ€Ğ³Ğ¸Ñ |
| T3 | Ğ¤Ğ¾ĞºÑƒÑ | 25-30 Ğ¼Ğ¸Ğ½ | 15 | 175 | -10% XP |

### Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° XP
```
xp = base_xp Ã— (duration / duration_min) Ã— timer_multiplier
// timer_multiplier: 1.0 Ñ Ñ‚Ğ°Ğ¹Ğ¼ĞµÑ€Ğ¾Ğ¼, 0.8 Ğ±ĞµĞ·
```

## ğŸ“± Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ

| Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|----------|----------|
| **Run** | Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ÑĞºÑ€Ğ°Ğ½ â€” ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ°Ğ¼Ğ¸, ÑĞ½ĞµÑ€Ğ³Ğ¸ĞµĞ¹, XP |
| **Templates** | Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½Ñ‹ Ğ·Ğ°Ğ´Ğ°Ñ‡ Ğ¸ Ğ¿Ñ€ĞµÑĞµÑ‚Ñ‹ Ğ´Ğ»Ñ Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾Ğ³Ğ¾ ÑÑ‚Ğ°Ñ€Ñ‚Ğ° |
| **Journal** | Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ ÑĞºÑÑ‚Ñ€Ğ°ĞºÑ†Ğ¸Ğ¹, Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° Ğ¿Ğ¾ Ğ´Ğ½ÑĞ¼ |
| **Profile** | Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°, Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸, Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€ |

## ğŸ¨ Ğ”Ğ¸Ğ·Ğ°Ğ¹Ğ½-ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°

- **Ğ¢Ñ‘Ğ¼Ğ½Ğ°Ñ Ñ‚ĞµĞ¼Ğ°** â€” Ğ·ĞµĞ»Ñ‘Ğ½Ñ‹Ğ¹ Ğ°ĞºÑ†ĞµĞ½Ñ‚ (`#00FF88`)
- **Lucide Icons** â€” ĞµĞ´Ğ¸Ğ½Ğ°Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° ÑÑ‚Ğ¸Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¸ĞºĞ¾Ğ½Ğ¾Ğº
- **Framer Motion** â€” Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ğ¸ Ğ¸ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ñ‹
- **CSS Variables** â€” `var(--accent-primary)`, `var(--bg-card)`, etc.
- **Haptic Feedback** â€” Ñ‚Ğ°ĞºÑ‚Ğ¸Ğ»ÑŒĞ½Ğ°Ñ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ğ°Ñ ÑĞ²ÑĞ·ÑŒ Ğ² Telegram

## ğŸ“„ Ğ›Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸Ñ

MIT
